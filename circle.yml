machine:
  # services:
  #   - docker

dependencies:
  cache_directories:
    # - "/var/lib/docker"
    - "toc/app/dependencies"
  pre:
    - npm install -g npm@3.3.8 && npm cache clean
    - npm install -g gulp-cli@0.3.0 && npm cache clean
    - npm install -g http-server@0.8.5 && npm cache clean
    - npm install -g jspm@0.16.12 && npm cache clean
    - npm install -g ionic@1.7.6 && npm cache clean
  override:
    - npm install
    - jspm install
    # - >
    #     docker run \
    #       -v $(pwd):/toc \
    #       lewisl9029/toc-dev:latest \
    #       npm install
    # - >
    #     docker run \
    #       -v $(pwd):/toc \
    #       -e JSPM_GITHUB_AUTH_TOKEN=$JSPM_GITHUB_AUTH_TOKEN \
    #       lewisl9029/toc-dev:latest \
    #       jspm install

test:
  override:
    - echo "no tests =/"

# deployment:
#   staging:
#     branch: /.*/
#     owner: lewisl9029
#     commands:
#       - ./toc-deploy-staging.sh
#   production:
#     tag: /v[0-9]+(\.[0-9]+)*/
#     owner: lewisl9029
#     commands:
#       - ./toc-deploy-production.sh
