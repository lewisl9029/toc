<ion-list class="toc-message-list">
  <ion-item class="toc-message item-avatar"
    ng-repeat="message in messageList.messages track by message.messageInfo.id"
    ng-class="{
      'toc-message-avatar': messageList.isSenderSeparator(message),
      'toc-message-simple': !messageList.isSenderSeparator(message),
      'toc-message-user': messageList.isByUser(message),
      'toc-message-contact': !messageList.isByUser(message)
    }">
    <img ng-src="{{messageList.getAvatar(message)}}"
      alt="Avatar for {{messageList.getUserInfo(message).email}}"
      ng-if="messageList.isSenderSeparator(message)" />
    <div ng-if="messageList.isUnread(message)"
      class="toc-message-unread">
      <div class="toc-message-unread-marker">
      </div>
    </div>
    <div ng-if="messageList.isDateSeparator(message)"
      class="toc-message-datestamp">
      {{::messageList.getDatestamp(message)}}
    </div>
    <h2>
      {{messageList.getUserInfo(message).displayName || 'Anonymous'}}
    </h2>
    <p class="toc-message-content">{{::message.messageInfo.content}}</p>
    <div ng-if="messageList.isMinuteSeparator(message)"
      ng-hide="messageList.isMessageSending(message)"
      class="toc-message-timestamp">
      {{::messageList.getTimestamp(message)}}
    </div>
    <div class="toc-message-sending-indicator"
      ng-if="messageList.isMessageSending(message)">
      ...
    </div>
  </ion-item>
</ion-list>
