<ion-list>
  <!-- FIXME: collection-repeat makes for buggy borders -->
  <!-- TODO: use one time bindings for constant values -->
  <ion-item class="toc-message item-avatar"
    ng-repeat="message in messageList.messages
      track by message.messageInfo.id"
    ng-class="messageList.isMessageSeparator(message) ?
      'toc-message-separator' :
      'toc-message-simple'
    ">
    <img ng-src="{{messageList.getAvatar(message)}}"
      alt="Avatar for {{messageList.getUserInfo(message).email}}" />
    <h2>{{messageList.getUserInfo(message).displayName}}</h2>
    <p class="toc-message-content">{{::message.messageInfo.content}}</p>
    <div class="toc-message-status-area">
      <p class="toc-message-timestamp">
        {{messageList.getTimestamp(message)}}
      </p>
    </div>
  </ion-item>
</ion-list>
