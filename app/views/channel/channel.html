<ion-view view-title="Toc Messenger">
  <div class="bar bar-subheader toc-channel-subheader">
    <toc-channel-card channel-id="{{::channelView.channelId}}"
      ng-click="channelView.viewLatest()">
    </toc-channel-card>
  </div>

  <ion-content class="has-subheader">
    <toc-message-list channel-id="{{::channelView.channelId}}">
    </toc-message-list>
  </ion-content>
  <!-- TODO: refactor into separate component -->
  <ion-footer-bar class="toc-message-input-footer">
    <form class="toc-message-input-form"
      id="toc-message-input-form-{{::channelView.channelId}}"
      ng-submit="channelView.send()">
    <div class="col-80">
      <input type="text" placeholder="Message"
        form="toc-message-input-form-{{::channelView.channelId}}"
        class="toc-message-input-area"
        ng-model="channelView.message" toc-auto-focus>
      </input>
    </div>
    <div class="col-20">
      <button type="submit"
        form="toc-message-input-form-{{::channelView.channelId}}"
        class="button button-block button-outline button-balanced">
        Send
      </button>
    </div>
    </form>
  </ion-footer-bar>
</ion-view>
